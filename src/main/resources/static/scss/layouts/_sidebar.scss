/*==============================
            ğŸ“ ì‚¬ì´ë“œë°” ë©”ë‰´ í™”ë©´
==============================*/
@use '../mixins' as *;
@use '../variables' as *;



.sidebar {
    @include flex-box( column );
    width: $sidebar-width;
    background-color: var(--sidebar-background-point);
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);

    //======= â–¼ ìƒë‹¨ =======
    &-top {
        @include flex-box( $align: center );
        flex: 1.8;
        padding: 1.3rem;
        gap: 5%;
        box-sizing: border-box;

         //--- í”„ë¡œí•„ ì˜ì—­ ---
        .sidebar-profile {
            @include flex-box( $justify: center, $align: center );
            flex: 1.5;
            object-fit: cover;
            background-color: $color-white;
            border-radius: 50%;

            //í”„ë¡œí•„
            &__image {
                width: 100%;
                height: 100%;
                padding: 0.3rem;
                box-sizing: border-box;

                //ë“±ë¡ ì „ ìƒíƒœ
                &--empty {
                    fill: $color-sidebar-profile-fill;
                }

                //ë“±ë¡ í›„ ìƒíƒœ
                &--filled {
                    object-fit: cover;
                    border-radius: 50%;
                }
            }
        }

        //--- ì¸ì‚¬ ì˜ì—­ ---
        .sidebar-welcome {
            @include flex-box( column );
            flex: 2;
            gap: 0.2rem;
            color: var(--sidebar-text-color);

            //ë‹‰ë„¤ì„
            &__nickname {
                font-size: 1.5em;
                color: var(--text-color-accent);
            }
        }
    }

    //======= â–¼ ë©”ë‰´ =======
    &-menu {
        flex: 8;
        background-color: var(--sidebar-background);

        //--- ë¦¬ìŠ¤íŠ¸ ì˜ì—­ ---
        &__list {
            height: 100%;
        }

        //--- ë©”ë‰´ ìš”ì†Œ ì˜ì—­ ---
        &__item {
            position: relative;
            z-index: 1;
            width: 100%;
            height: 13%;
            transition: all 0.2s ease;

            //ì„ íƒëœ ìƒíƒœ
            &--selected {
                font-weight: bold;
                color: var(--sidebar-text-color-selected);
                background-color: var(--sidebar-background-selected);

                &::before {
                    content: " ";
                     width: 4px;
                     height: 100%;
                     background-color: var(--sidebar-background);
                }

                //ë§í¬
                .sidebar-menu__link {
                    color: var(--sidebar-text-color-selected);
                }

                //ì•„ì´ì½˜
                .sidebar-menu__icon {
                    .icon--menu {
                        fill: var(--sidebar-icon-color);
                    }
                }

                //í† ê¸€ ë©”ë‰´
                .sidebar-toggle {
                    display: block;
                    height: $sidebar-toggle-height;
                }

                //í† ê¸€ë©”ë‰´ê°€ í¬í•¨ëœ ë©”ë‰´
                &.sidebar-menu__toggle {
                    z-index: 5;
                }

                //í† ê¸€ë©”ë‰´ê°€ í¬í•¨ëœ ë‹¤ìŒ ë©”ë‰´
                &.sidebar-menu__toggle + .sidebar-menu__item {
                    padding-top: $sidebar-toggle-height;
                }
            }
        }

        //--- ë§í¬ ì˜ì—­ ---
        &__link {
            @include flex-box( $align: center );
            width: 100%;
            height: 100%;
            font-size: 1.2rem;
            color: $color-sidebar-text;

            //ë§ˆìš°ìŠ¤ ì˜¬ë¦° ìƒíƒœ
            &:hover {
                text-decoration: none;
                background-color: var(--sidebar-background-hover);
                color: var(--sidebar-text-color-hover);

                //ì•„ì´ì½˜
                .icon--menu {
                    fill: var(--sidebar-icon-color-hover);
                }
            }
        }

         //--- ì•„ì´ì½˜ ì˜ì—­ ---
         &__icon {
             @include flex-box( $justify: center, $align: center );
             flex-shrink: 0;
             width: 2.5rem;
             height: 2.5rem;
             padding: 0 1.5rem;

             //ì•„ì´ì½˜
             .icon--menu {
                 fill: $color-sidebar-icon-fill;
             }
         }
    }

    //======= â–¼ í† ê¸€ ë©”ë‰´ =======
    &-toggle {
        position: absolute;
        z-index: 3;
        display: none;
        width: 100%;

        //--- ë¦¬ìŠ¤íŠ¸ ì˜ì—­ ---
        &__list {
            @include flex-box( column );
            height: 100%;
        }

        //--- ë©”ë‰´ ìš”ì†Œ ì˜ì—­ ---
        &__item {
            @include flex-box( $align: center );
            flex: 1;
            width: 100%;
            cursor: pointer;

            //ì„ íƒí•œ  ìƒìœ„ ë©”ë‰´
            .sidebar-toggle__item--selected {
                color: $color-sidebar-text;
            }

            //ì„ íƒëœ ìƒíƒœ
            &.sidebar-toggle__item--selected {
                span {
                    color: var(--sidebar-text-color-selected);
                }

                //ì•„ì´ì½˜
                .icon--menu {
                    fill: var(--sidebar-icon-color);
                }
            }

            //ë§ˆìš°ìŠ¤ ì˜¬ë¦° ìƒíƒœ
            &:hover {
                background-color: var(--sidebar-background-hover);

                a {
                     color: $color-sidebar-text;
                     text-decoration: none;
                }
            }
        }

        //--- ë§í¬ ì˜ì—­ ---
        a {
            @include flex-box( $align: center );
            gap: 5px;
            padding-left: 20%;
            width: 100%;
            height: 100%;
            color: $color-sidebar-text;
        }

        //--- ì•„ì´ì½˜ ì˜ì—­ ---
        &__icon {
            width: 1.1rem;
            height: 1.1rem;
            margin-right: 0.8rem;

            .icon--menu {
                fill: $color-sidebar-icon-fill;
            }
        }
    }

    //======= â–¼ í•˜ë‹¨ =======
    &-footer {
        @include flex-box();
        flex: 1;
        padding: 1rem;
        box-sizing: border-box;
        background-color: var(--sidebar-background);

        //--- ë¡œê·¸ì•„ì›ƒ ì˜ì—­ ---
        &__link {
            @include flex-box( $align: center );
            color: $color-text-link;
        }

        //--- ì•„ì´ì½˜ ì˜ì—­ ---
        &__icon {
            width: 1.1rem;
            height: 1.1rem;
            color: $color-text-link;
        }
    }
}
