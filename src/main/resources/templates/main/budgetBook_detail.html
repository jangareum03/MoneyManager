<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{/layout/mainLayout}" th:with="pageTitle='가계부 상세 : 돈매니저'">
<th:block layout:fragment="main">
    <main class="page page-budget-detail" th:classappend="${#strings.startsWith( budgetBook.category.code, '01')} ? 'page-budget-detail--income' : 'page-budget-detail--outlay'">
        <!-- 상단: 정보 -->
        <section class="detail-header">
            <header class="detail-header__title">
                <svg class="icon icon--back" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.3438 7.53125L9.875 13L15.3438 18.4688" stroke="black"/>
                </svg>
                <h1 class="detail-header__text">상세 내역</h1>
            </header>
        </section>

        <!-- 본문-->
        <section class="detail-body">
            <!--  필수정보 -->
            <div class="detail-essential">
                <div class="detail-box--left">
                    <p class="detail-essential__icon"></p>
                </div>
                <div  class="detail-box--right">
                    <span class="detail-essential__price" th:text="${#numbers.formatInteger(budgetBook.price, 3, 'COMMA') + '원'}"></span>
                    <div class="detail-essential__info">
                        <time class="detail-essential__date" th:datetime="${budgetBook.date.read}">
                            <span th:text="${budgetBook.date.text}"></span>
                        </time>

                        <div class="detail-essential__meta">
                            <span class="detail-essential__category">[[${budgetBook.category.name}]]</span>
                            <div class="detail-essential__payment detail-essential__payment--none" th:if="${budgetBook.paymentType == 'none'}">
                                <svg class="icon icon--none" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.2 0.584473C4.35505 0.584436 3.52784 0.826843 2.81655 1.28292C2.10526 1.73899 1.53977 2.38958 1.18721 3.15746C0.834646 3.92534 0.709815 4.77825 0.827534 5.61496C0.945253 6.45166 1.30058 7.23702 1.85133 7.87781L1.298 8.43114C1.26616 8.46189 1.24077 8.49867 1.2233 8.53934C1.20583 8.58001 1.19663 8.62375 1.19625 8.66801C1.19586 8.71227 1.2043 8.75616 1.22106 8.79712C1.23782 8.83809 1.26257 8.87531 1.29387 8.9066C1.32516 8.9379 1.36238 8.96265 1.40335 8.97941C1.44431 8.99617 1.4882 9.00461 1.53246 9.00422C1.57672 9.00384 1.62046 8.99464 1.66113 8.97717C1.7018 8.9597 1.73858 8.93431 1.76933 8.90247L2.32266 8.34914C3.167 9.07544 4.25463 9.45583 5.36759 9.41407C6.48055 9.37231 7.53661 8.91149 8.32414 8.12395C9.11168 7.33642 9.5725 6.28035 9.61426 5.1674C9.65602 4.05444 9.27563 2.96681 8.54933 2.12247L9.10266 1.56914C9.13366 1.53815 9.15824 1.50135 9.17501 1.46086C9.19179 1.42037 9.20042 1.37697 9.20042 1.33314C9.20042 1.28931 9.19179 1.24591 9.17501 1.20542C9.15824 1.16492 9.13366 1.12813 9.10266 1.09714C9.07167 1.06615 9.03488 1.04156 8.99439 1.02479C8.95389 1.00802 8.91049 0.999385 8.86666 0.999385C8.82283 0.999385 8.77943 1.00802 8.73894 1.02479C8.69845 1.04156 8.66166 1.06615 8.63066 1.09714L8.07733 1.65047C7.27711 0.961627 6.25586 0.583511 5.2 0.585139M7.628 2.10114C6.90328 1.49357 5.97724 1.17955 5.03244 1.22101C4.08765 1.26247 3.19267 1.65638 2.52395 2.3251C1.85524 2.99381 1.46132 3.88879 1.41987 4.83359C1.37841 5.77838 1.69243 6.70442 2.3 7.42914L7.628 2.10114ZM2.772 7.89981C3.49671 8.50738 4.42276 8.82139 5.36755 8.77994C6.31235 8.73848 7.20733 8.34456 7.87604 7.67585C8.54475 7.00714 8.93867 6.11215 8.98013 5.16736C9.02158 4.22257 8.70757 3.29652 8.1 2.57181L2.772 7.89981Z"/>
                                </svg>
                                없음
                            </div>
                            <div class="detail-essential__payment detail-essential__payment--cash" th:if="${budgetBook.paymentType == 'cash'}">
                                <svg class="icon icon--cash" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.2 0.584473C4.35505 0.584436 3.52784 0.826843 2.81655 1.28292C2.10526 1.73899 1.53977 2.38958 1.18721 3.15746C0.834646 3.92534 0.709815 4.77825 0.827534 5.61496C0.945253 6.45166 1.30058 7.23702 1.85133 7.87781L1.298 8.43114C1.26616 8.46189 1.24077 8.49867 1.2233 8.53934C1.20583 8.58001 1.19663 8.62375 1.19625 8.66801C1.19586 8.71227 1.2043 8.75616 1.22106 8.79712C1.23782 8.83809 1.26257 8.87531 1.29387 8.9066C1.32516 8.9379 1.36238 8.96265 1.40335 8.97941C1.44431 8.99617 1.4882 9.00461 1.53246 9.00422C1.57672 9.00384 1.62046 8.99464 1.66113 8.97717C1.7018 8.9597 1.73858 8.93431 1.76933 8.90247L2.32266 8.34914C3.167 9.07544 4.25463 9.45583 5.36759 9.41407C6.48055 9.37231 7.53661 8.91149 8.32414 8.12395C9.11168 7.33642 9.5725 6.28035 9.61426 5.1674C9.65602 4.05444 9.27563 2.96681 8.54933 2.12247L9.10266 1.56914C9.13366 1.53815 9.15824 1.50135 9.17501 1.46086C9.19179 1.42037 9.20042 1.37697 9.20042 1.33314C9.20042 1.28931 9.19179 1.24591 9.17501 1.20542C9.15824 1.16492 9.13366 1.12813 9.10266 1.09714C9.07167 1.06615 9.03488 1.04156 8.99439 1.02479C8.95389 1.00802 8.91049 0.999385 8.86666 0.999385C8.82283 0.999385 8.77943 1.00802 8.73894 1.02479C8.69845 1.04156 8.66166 1.06615 8.63066 1.09714L8.07733 1.65047C7.27711 0.961627 6.25586 0.583511 5.2 0.585139M7.628 2.10114C6.90328 1.49357 5.97724 1.17955 5.03244 1.22101C4.08765 1.26247 3.19267 1.65638 2.52395 2.3251C1.85524 2.99381 1.46132 3.88879 1.41987 4.83359C1.37841 5.77838 1.69243 6.70442 2.3 7.42914L7.628 2.10114ZM2.772 7.89981C3.49671 8.50738 4.42276 8.82139 5.36755 8.77994C6.31235 8.73848 7.20733 8.34456 7.87604 7.67585C8.54475 7.00714 8.93867 6.11215 8.98013 5.16736C9.02158 4.22257 8.70757 3.29652 8.1 2.57181L2.772 7.89981Z"/>
                                </svg>
                                현금
                            </div>
                            <div class="detail-essential__payment detail-essential__payment--card" th:if="${budgetBook.paymentType == 'card'}">
                                <svg class="icon icon--card" viewBox="0 0 9 9" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7.11666 0.666504C7.44818 0.666504 7.76612 0.7982 8.00054 1.03262C8.23496 1.26704 8.36666 1.58498 8.36666 1.9165V6.08317C8.36666 6.41469 8.23496 6.73263 8.00054 6.96705C7.76612 7.20147 7.44818 7.33317 7.11666 7.33317H1.28333C0.951805 7.33317 0.633862 7.20147 0.399442 6.96705C0.165021 6.73263 0.0333252 6.41469 0.0333252 6.08317V1.9165C0.0333252 1.58498 0.165021 1.26704 0.399442 1.03262C0.633862 0.7982 0.951805 0.666504 1.28333 0.666504H7.11666ZM7.53333 3.1665H0.866659V6.08317C0.866672 6.18523 0.90414 6.28373 0.971956 6.35999C1.03977 6.43626 1.13322 6.48498 1.23458 6.49692L1.28333 6.49984H7.11666C7.21871 6.49982 7.31722 6.46235 7.39348 6.39454C7.46974 6.32672 7.51847 6.23327 7.53041 6.13192L7.53333 6.08317V3.1665ZM6.28333 4.4165C6.38952 4.41662 6.49167 4.45729 6.56889 4.53019C6.64612 4.60309 6.69259 4.70273 6.69881 4.80875C6.70504 4.91477 6.67054 5.01916 6.60238 5.1006C6.53422 5.18204 6.43753 5.23438 6.33208 5.24692L6.28333 5.24984H5.03333C4.92713 5.24972 4.82498 5.20905 4.74776 5.13615C4.67053 5.06325 4.62406 4.96361 4.61784 4.85759C4.61161 4.75157 4.64611 4.64718 4.71427 4.56574C4.78243 4.4843 4.87912 4.43196 4.98458 4.41942L5.03333 4.4165H6.28333ZM7.11666 1.49984H1.28333C1.17282 1.49984 1.06684 1.54374 0.988697 1.62188C0.910557 1.70002 0.866659 1.806 0.866659 1.9165V2.33317H7.53333V1.9165C7.53333 1.806 7.48943 1.70002 7.41129 1.62188C7.33315 1.54374 7.22717 1.49984 7.11666 1.49984Z"/>
                                </svg>
                                카드
                            </div>
                            <div class="detail-essential__payment detail-essential__payment--bank" th:if="${budgetBook.paymentType == 'bank'}">
                                <svg class="icon icon--bank" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M4.2 0L0.699997 2V2.5H7.7V2L4.2 0ZM1.7 3L1.6 6.5H2.85L2.7 3H1.7ZM3.7 3L3.6 6.5H4.85L4.7 3H3.7ZM5.7 3L5.6 6.5H6.85L6.7 3H5.7ZM0.699997 8H7.7V7H0.699997V8Z"/>
                                </svg>
                                계좌이체
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--  부가정보 -->
            <div class="detail-additional">
                <div class="detail-additional__memo">
                    <h2 class="detail-additional__memo-title">
                        <svg class="icon icon--memo" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.03125 4.6875H9.84375C10.1562 4.6875 10.3125 4.5312 10.3125 4.21875C10.3125 3.9063 10.1562 3.75 9.84375 3.75H7.03125C6.7188 3.75 6.5625 3.9063 6.5625 4.21875C6.5625 4.5312 6.7188 4.6875 7.03125 4.6875Z"/>
                            <path d="M12.9933 1.06919C12.9054 0.981445 12.7931 0.9375 12.6562 0.9375H2.34375C2.20679 0.9375 2.09443 0.981445 2.00669 1.06919C1.91895 1.15708 1.875 1.26943 1.875 1.40625V13.5938C1.875 13.7307 1.9188 13.8431 2.00669 13.9308C2.09458 14.0186 2.20693 14.0625 2.34375 14.0625H12.6562C12.7932 14.0625 12.9056 14.0187 12.9933 13.9308C13.0811 13.8429 13.125 13.7306 13.125 13.5938V1.40625C13.125 1.26929 13.0811 1.15693 12.9933 1.06919ZM2.8125 13.125V1.875H4.21875V13.125H2.8125ZM12.1875 13.125H5.15625V1.875H12.1875V13.125Z"/>
                            <path d="M7.03125 7.5H9.84375C10.1562 7.5 10.3125 7.3437 10.3125 7.03125C10.3125 6.7188 10.1562 6.5625 9.84375 6.5625H7.03125C6.7188 6.5625 6.5625 6.7188 6.5625 7.03125C6.5625 7.3437 6.7188 7.5 7.03125 7.5ZM7.03125 10.3125H9.84375C10.1562 10.3125 10.3125 10.1562 10.3125 9.84375C10.3125 9.5313 10.1562 9.375 9.84375 9.375H7.03125C6.7188 9.375 6.5625 9.5313 6.5625 9.84375C6.5625 10.1562 6.7188 10.3125 7.03125 10.3125Z"/>
                        </svg>
                    </h2>
                    <p class="detail-additional__memo-content" th:text="${budgetBook.memo}"></p>
                </div>

                <div class="detail-additional__photo">
                    <h2 class="detail-additional__photo-title">
                        <svg class="icon icon--photo" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.375 1.875C9.69036 1.8749 9.9941 1.994 10.2253 2.20844C10.4566 2.42287 10.5982 2.71678 10.6219 3.03125L10.625 3.125C10.625 3.27808 10.6812 3.42584 10.7829 3.54023C10.8847 3.65463 11.0248 3.72771 11.1769 3.74563L11.25 3.75H11.875C12.3533 3.74997 12.8134 3.9327 13.1614 4.2608C13.5094 4.5889 13.7188 5.03757 13.7469 5.515L13.75 5.625V11.25C13.75 11.7283 13.5673 12.1884 13.2392 12.5364C12.9111 12.8844 12.4624 13.0938 11.985 13.1219L11.875 13.125H3.125C2.64674 13.125 2.18655 12.9423 1.83859 12.6142C1.49062 12.2861 1.28118 11.8374 1.25313 11.36L1.25 11.25V5.625C1.24997 5.14674 1.4327 4.68655 1.7608 4.33859C2.0889 3.99062 2.53757 3.78118 3.015 3.75313L3.125 3.75H3.75C3.91576 3.75 4.07473 3.68415 4.19194 3.56694C4.30915 3.44973 4.375 3.29076 4.375 3.125C4.3749 2.80964 4.494 2.5059 4.70844 2.27466C4.92287 2.04342 5.21678 1.90178 5.53125 1.87813L5.625 1.875H9.375ZM7.5 6.25C7.03537 6.24996 6.58728 6.42244 6.24258 6.73399C5.89789 7.04554 5.68115 7.47398 5.63438 7.93625L5.6275 8.03125L5.625 8.125L5.6275 8.21875C5.64584 8.58514 5.77127 8.93811 5.98823 9.23393C6.2052 9.52974 6.50418 9.75541 6.84814 9.88298C7.19209 10.0106 7.56592 10.0344 7.92331 9.95163C8.2807 9.86883 8.60595 9.68302 8.85878 9.4172C9.1116 9.15138 9.28089 8.81723 9.34568 8.45614C9.41047 8.09506 9.36791 7.72289 9.22328 7.38576C9.07864 7.04862 8.83828 6.76132 8.53197 6.55944C8.22566 6.35756 7.86685 6.24997 7.5 6.25Z"/>
                        </svg>
                    </h2>
                    <ul class="detail-additional__photo-list">
                        <li th:each="image : ${budgetBook.images} " class="detail-additional__photo-item">
                            <img th:if="${image != null and image != 'null'}" class="detail-additional__photo--filled" src="" th:src="@{/image/budgetBook/{fileName}(fileName=${image})}" alt=""  title="사진 크게보기">
                            <div th:unless="${image != null and image != 'null'}" class="detail-additional__photo--empty">
                                <svg class="icon icon--photo" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24">
                                    <path d="M9 3h6l2 2h4a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h4zm3 16a6 6 0 1 0 0-12a6 6 0 0 0 0 12m0-2a4 4 0 1 1 0-8a4 4 0 0 1 0 8"/>
                                </svg>
                                등록된 사진이 없습니다.
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="detail-additional__location">
                    <h2 class="detail-additional__location-title">
                        <svg class="icon icon--location" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.5 7.1875C7.0856 7.1875 6.68817 7.02288 6.39515 6.72985C6.10212 6.43683 5.9375 6.0394 5.9375 5.625C5.9375 5.2106 6.10212 4.81317 6.39515 4.52015C6.68817 4.22712 7.0856 4.0625 7.5 4.0625C7.9144 4.0625 8.31183 4.22712 8.60485 4.52015C8.89788 4.81317 9.0625 5.2106 9.0625 5.625C9.0625 5.83019 9.02209 6.03337 8.94356 6.22294C8.86504 6.41251 8.74995 6.58476 8.60485 6.72985C8.45976 6.87495 8.28751 6.99004 8.09794 7.06856C7.90837 7.14709 7.70519 7.1875 7.5 7.1875ZM7.5 1.25C6.33968 1.25 5.22688 1.71094 4.40641 2.53141C3.58594 3.35188 3.125 4.46468 3.125 5.625C3.125 8.90625 7.5 13.75 7.5 13.75C7.5 13.75 11.875 8.90625 11.875 5.625C11.875 4.46468 11.4141 3.35188 10.5936 2.53141C9.77312 1.71094 8.66032 1.25 7.5 1.25Z"/>
                        </svg>
                    </h2>
                    <address th:if="${budgetBook.place != null }" class="detail-additional__location--filled">
                        <strong class="location__name" th:text="${budgetBook.place.name}"></strong>
                        <span class="location__road" th:text="${budgetBook.place.roadAddress}"></span>
                    </address>
                    <span th:unless="${budgetBook.place != null}" class="detail-additional__location--empty">등록된 위치가 없습니다.</span>
                </div>
            </div>
        </section>

        <!-- 하단: 버튼 -->
        <section class="detail-footer">
            <button class="button button--medium button--default" th:attr="data-mode='edit'">수정</button>
            <button class="button button--medium button--danger" th:attr="data-mode='delete'">삭제</button>
        </section>
    </main>
</th:block>
<th:block layout:fragment="pageScript">
    <script src="/js/pages/budgetBook-detail.js"></script>
</th:block>
</html>